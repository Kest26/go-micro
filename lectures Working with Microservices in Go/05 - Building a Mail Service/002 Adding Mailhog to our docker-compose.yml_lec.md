## Добавление Mailhog в docker-compose.yml

### 1. Введение и цель настройки

В этом разделе мы настроим тестовый почтовый сервер для нашего проекта. Для этой задачи мы будем использовать Mailhog — простой инструмент, написанный на Go, который симулирует работу почтового сервера. Он позволяет перехватывать и просматривать отправленные письма, что удобно для тестирования. Основное преимущество Mailhog — это исключение риска отправки писем в реальный интернет.

### 2. Редактирование файла docker-compose.yml

Первым шагом откроем файл `docker-compose.yml` в корневой директории нашего проекта. Мы добавим описание сервиса Mailhog сразу после настроек MongoDB. Важно правильно соблюсти отступы, чтобы всё работало корректно. Конфигурация будет следующей:

```yml
mailhog:
  image: 'mailhog/mailhog:latest'
  ports:
    - "1025:1025"
    - "8025:8025"
```

Здесь мы указываем Docker-образ для Mailhog: `mailhog/mailhog:latest`. Далее настраиваем порты. Первый порт (1025) используется для передачи почты, но в нашем случае мы, скорее всего, его не будем использовать. Второй порт (8025) предоставляет веб-интерфейс для просмотра отправленных писем, и именно его мы будем активно использовать.

### 3. Запуск Mailhog и проверка его работы

После того как мы добавили конфигурацию, откроем терминал и убедимся, что находимся в корневой папке проекта. Теперь выполните команду:

```bash
make down
```

Эта команда остановит все текущие контейнеры (если они запущены). Затем запускаем сервисы с помощью команды:

```bash
make up
```

Эта команда скачает Docker-образ Mailhog (если он ещё не загружен) и запустит его. Если образ уже был скачан, процесс пройдет быстрее. Теперь Mailhog должен быть запущен.

### 4. Проверка работы через веб-интерфейс

Чтобы убедиться, что Mailhog работает, откройте браузер и перейдите по адресу `localhost:8025`. Если всё настроено правильно, вы увидите веб-интерфейс Mailhog, где будут отображаться все перехваченные письма. Этот инструмент удобен тем, что никакие письма не уходят в реальный интернет, что делает его идеальным для тестирования.

### 5. Заключение и переход к следующему этапу

Теперь, когда Mailhog настроен и запущен, мы можем приступить к разработке самого почтового микросервиса. Это будет следующий шаг, который мы рассмотрим в следующем разделе.


